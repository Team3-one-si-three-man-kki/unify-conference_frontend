/* src/components/features/session/MainStage.module.css */

.mainStageContainer {
    position: relative;
    flex-grow: 1;
    background-color: #202020;
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    border: 1px solid #404040; /* From session_room.xml */
    cursor: default;
    transition: none;
    pointer-events: none; /* 기본적으로 하위 요소로 이벤트 통과 */
}

.mainStageContainer:hover {
    border-color: #404040;
    background-color: #202020;
    transform: none;
    box-shadow: none;
}

.mainVideoElement {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.dropZoneLabel {
    color: #ffffff;
    opacity: 0.7;
    font-size: 16px;
    font-weight: 500;
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    pointer-events: none;
}

/* --- 레이어 스타일 --- */
.mainStageLayer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 8px;
    overflow: hidden;
}

.pinnedVideoLayer { z-index: 1; }
.screenShareLayer { z-index: 2; }

.canvasLayer {
    z-index: 3;
    background-color: transparent; /* 기본 배경은 투명 */
    pointer-events: none; /* 오버레이시 하위 비디오 클릭 방지 */
}

.canvasLayer.standalone {
    background-color: #FFFFFF; /* 단독 모드일 때만 흰색 배경 적용 */
}

.canvasLayer .canvasContainer,
.canvasLayer .canvasToolbar {
    pointer-events: auto; /* 캔버스 자체는 클릭 가능해야 함 */
}

/* --- 카메라 Off 아바타 스타일 --- */
.videoPaused::after {
    content: attr(data-username);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(10, 10, 10, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: #fff;
    pointer-events: none;
    z-index: 10;
}

/* --- 비디오 및 AI 캔버스 래퍼 --- */
.videoWrapper {
    position: relative;
    width: 100%;
    height: 100%;
    pointer-events: auto; /* 비디오 영역은 이벤트 수신 */
}

.aiCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5; /* 비디오보다는 위, 다른 UI보다는 아래 */
    pointer-events: none; /* 캔버스가 마우스 이벤트를 가로채지 않도록 설정 */
}

.cameraOffOverlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #202020;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    z-index: 10;
}
